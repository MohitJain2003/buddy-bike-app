<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMI Calculator - Buddy Bike</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <nav class="navbar">
        <h2>⚡ Buddy Bike</h2>
        <div class="nav-links">
            <a href="index.html"><button class="neon-btn">Home</button></a>
            <a href="bikes.html"><button class="neon-btn">Explore All Bikes</button></a>
            <a href="contact.html"><button class="neon-btn">Contact</button></a>
        </div>
    </nav>

    <section class="calculator-section">
        <h1 class="glow" style="font-size: 40px;">EMI Calculator</h1>
        <p style="margin-bottom: 30px; color: #aaa;">Plan your premium ride with ease</p>

        <div class="calc-container bike-card">
            <div class="input-group">
                <label for="bikePrice">Bike Price (₹)</label>
                <input type="number" id="bikePrice" placeholder="e.g. 150000" value="100000">
            </div>

            <div class="input-group">
                <label for="downPayment">Down Payment (₹)</label>
                <input type="number" id="downPayment" placeholder="e.g. 30000" value="20000">
            </div>

            <div class="input-group">
                <label for="interestRate">Interest Rate (% p.a.)</label>
                <input type="number" id="interestRate" placeholder="e.g. 10.5" value="10" step="0.1">
            </div>

            <div class="input-group">
                <label for="loanTenure">Loan Tenure (Months)</label>
                <input type="number" id="loanTenure" placeholder="e.g. 24" value="24">
            </div>

            <button class="solid-btn" onclick="calculateEMI()" style="width: 100%; margin-top: 10px;">Calculate EMI</button>

            <div class="result-box" id="resultBox" style="display: none;">
                <h3>Your Monthly EMI</h3>
                <h2 class="glow" id="emiResult" style="font-size: 36px; margin: 10px 0;">₹ 0</h2>
                <div class="breakdown">
                    <p>Principal Amount: <span id="principalAmount">₹ 0</span></p>
                    <p>Total Interest: <span id="totalInterest">₹ 0</span></p>
                    <p>Total Amount Payable: <span id="totalPayable">₹ 0</span></p>
                </div>
            </div>
        </div>
    </section>

    <script>
        function calculateEMI() {
            const price = parseFloat(document.getElementById('bikePrice').value);
            const downPayment = parseFloat(document.getElementById('downPayment').value);
            const rateYearly = parseFloat(document.getElementById('interestRate').value);
            const months = parseInt(document.getElementById('loanTenure').value);

            // Validation
            if (isNaN(price) || isNaN(downPayment) || isNaN(rateYearly) || isNaN(months) || price <= 0 || months <= 0) {
                alert("Please enter valid numbers in all fields.");
                return;
            }

            if (downPayment >= price) {
                alert("Down payment cannot be greater than or equal to the bike price.");
                return;
            }

            // Calculations
            const principal = price - downPayment;
            const rateMonthly = rateYearly / 12 / 100; // Monthly interest rate
            
            let emi = 0;
            if (rateMonthly === 0) {
                emi = principal / months;
            } else {
                emi = (principal * rateMonthly * Math.pow(1 + rateMonthly, months)) / (Math.pow(1 + rateMonthly, months) - 1);
            }

            const totalPayable = emi * months;
            const totalInterest = totalPayable - principal;

            // Update UI
            document.getElementById('resultBox').style.display = 'block';
            document.getElementById('emiResult').innerText = '₹ ' + Math.round(emi).toLocaleString('en-IN');
            document.getElementById('principalAmount').innerText = '₹ ' + Math.round(principal).toLocaleString('en-IN');
            document.getElementById('totalInterest').innerText = '₹ ' + Math.round(totalInterest).toLocaleString('en-IN');
            document.getElementById('totalPayable').innerText = '₹ ' + Math.round(totalPayable).toLocaleString('en-IN');
        }
    </script>
</body>
</html>